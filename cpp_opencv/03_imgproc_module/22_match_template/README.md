# 图像块匹配
本节的程序主要有两点：
1. 使用opencv函数`matchTemplate()`在一张输入图像上搜索一个图像块的匹配
2. 使用opencv函数`minMaxLoc()`在一个给定的序列数组上查找最大最小值（和它们的位置）

## 理论
### 什么叫块匹配
块匹配是一种技术－－用来在一幅图像上寻找最匹配一个图像块的区域

### 技术细节
输入部分
	- 源图像（I）：我们计划在这个图像上查找一个匹配块
	- 块图像（T）：我们寻找的就是最匹配T的图像块

方法：我们首先定义一个度量来表示匹配程度。然后通过在Ｉ上滑动Ｔ大小的掩码，每次滑动一个像素距离，来计算在每个点上的匹配程度值并写入一个输出图像的对应像素位置。最后在输出图像上定位像素值最大的位置。

### 掩码形式
还可以为搜索块Ｔ设置一个掩码矩阵，这不是必须的，并且目前只有１与４两种匹配方法支持为Ｔ设置掩码

1. 掩码矩阵需要与Ｔ具有相同的尺寸与通道数。

### opencv中提供的匹配方法
1. method=CV_TM_SQDIFF
2. method=CV_TM_SQDIFF_NORMED
3. method=CV_TM_CCORR
4. method=CV_TM_CCORR_NORMED
5. method=CV_TM_CCOEFF
6. method=CV_TM_CCOEFF_NORMED

[详细](https://docs.opencv.org/3.4.1/de/da9/tutorial_template_matching.html)
## 程序分析
1. 加载输入图片，块图像，和一个可选的掩码矩阵
2. 使用６种方法分别进行块匹配，用户可以通过滑动条来选择哪一种快匹配方式
3. 标准化匹配输出
4. 定位最大概率匹配处
5. 在最大概率出画出一个矩形

> 运行结果感觉不理想啊
